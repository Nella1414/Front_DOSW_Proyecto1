var re=t=>{throw TypeError(t)};var B=(t,e,n)=>e.has(t)||re("Cannot "+n);var r=(t,e,n)=>(B(t,e,"read from private field"),n?n.call(t):e.get(t)),d=(t,e,n)=>e.has(t)?re("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),u=(t,e,n,s)=>(B(t,e,"write to private field"),s?s.call(t,n):e.set(t,n),n),E=(t,e,n)=>(B(t,e,"access private method"),n);import{b as I,R as K,t as xe}from"./index-BozS7dwg.js";import{f as $e}from"./filter-props-w36Z9eCG.js";const Se=new Set(["Arab","Syrc","Samr","Mand","Thaa","Mend","Nkoo","Adlm","Rohg","Hebr"]),ge=new Set(["ae","ar","arc","bcc","bqi","ckb","dv","fa","glk","he","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"]);function de(t){if(Intl.Locale){let n=new Intl.Locale(t).maximize(),s=typeof n.getTextInfo=="function"?n.getTextInfo():n.textInfo;if(s)return s.direction==="rtl";if(n.script)return Se.has(n.script)}let e=t.split("-")[0];return ge.has(e)}const Te=Symbol.for("react-aria.i18n.locale");function ye(){let t=typeof window<"u"&&window[Te]||typeof navigator<"u"&&(navigator.language||navigator.userLanguage)||"en-US";try{Intl.DateTimeFormat.supportedLocalesOf([t])}catch{t="en-US"}return{locale:t,direction:de(t)?"rtl":"ltr"}}let V=ye(),N=new Set;function ie(){V=ye();for(let t of N)t(V)}function me(){let t=$e(),[e,n]=I.useState(V);return I.useEffect(()=>(N.size===0&&window.addEventListener("languagechange",ie),N.add(n),()=>{N.delete(n),N.size===0&&window.removeEventListener("languagechange",ie)}),[]),t?{locale:"en-US",direction:"ltr"}:e}const Y=K.createContext(null);function Ee(t){let{locale:e,children:n}=t,s=K.useMemo(()=>({locale:e,direction:de(e)?"rtl":"ltr"}),[e]);return K.createElement(Y.Provider,{value:s},n)}function Pe(t){let{children:e}=t,n=me();return K.createElement(Y.Provider,{value:n},e)}function Xe(t){let{locale:e,children:n}=t;return e?K.createElement(Ee,{locale:e,children:n}):K.createElement(Pe,{children:n})}function Ye(){let t=me();return I.useContext(Y)||t}const Ce=I.createContext({});function et(){var t;return(t=I.useContext(Ce))!==null&&t!==void 0?t:{}}var pe=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Le={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},C,X,ue,je=(ue=class{constructor(){d(this,C,Le);d(this,X,!1)}setTimeoutProvider(t){u(this,C,t)}setTimeout(t,e){return r(this,C).setTimeout(t,e)}clearTimeout(t){r(this,C).clearTimeout(t)}setInterval(t,e){return r(this,C).setInterval(t,e)}clearInterval(t){r(this,C).clearInterval(t)}},C=new WeakMap,X=new WeakMap,ue),W=new je;function Ie(t){setTimeout(t,0)}var _=typeof window>"u"||"Deno"in globalThis;function tt(){}function nt(t,e){return typeof t=="function"?t(e):t}function Re(t){return typeof t=="number"&&t>=0&&t!==1/0}function st(t,e){return Math.max(t+(e||0)-Date.now(),0)}function rt(t,e){return typeof t=="function"?t(e):t}function it(t,e){return typeof t=="function"?t(e):t}function at(t,e){const{type:n="all",exact:s,fetchStatus:i,predicate:o,queryKey:m,stale:a}=t;if(m){if(s){if(e.queryHash!==Fe(m,e.options))return!1}else if(!ee(e.queryKey,m))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||o&&!o(e))}function ot(t,e){const{exact:n,status:s,predicate:i,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(n){if(J(e.options.mutationKey)!==J(o))return!1}else if(!ee(e.options.mutationKey,o))return!1}return!(s&&e.state.status!==s||i&&!i(e))}function Fe(t,e){return((e==null?void 0:e.queryKeyHashFn)||J)(t)}function J(t){return JSON.stringify(t,(e,n)=>Z(n)?Object.keys(n).sort().reduce((s,i)=>(s[i]=n[i],s),{}):n)}function ee(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>ee(t[n],e[n])):!1}var Oe=Object.prototype.hasOwnProperty;function ve(t,e){if(t===e)return t;const n=ae(t)&&ae(e);if(!n&&!(Z(t)&&Z(e)))return e;const i=(n?t:Object.keys(t)).length,o=n?e:Object.keys(e),m=o.length,a=n?new Array(m):{};let c=0;for(let b=0;b<m;b++){const p=n?b:o[b],w=t[p],v=e[p];if(w===v){a[p]=w,(n?b<i:Oe.call(t,p))&&c++;continue}if(w===null||v===null||typeof w!="object"||typeof v!="object"){a[p]=v;continue}const g=ve(w,v);a[p]=g,g===w&&c++}return i===m&&c===i?t:a}function ut(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function ae(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Z(t){if(!oe(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!oe(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function oe(t){return Object.prototype.toString.call(t)==="[object Object]"}function Me(t){return new Promise(e=>{W.setTimeout(e,t)})}function ct(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?ve(t,e):e}function lt(t,e,n=0){const s=[...t,e];return n&&s.length>n?s.slice(1):s}function ft(t,e,n=0){const s=[e,...t];return n&&s.length>n?s.slice(0,-1):s}var ke=Symbol();function ht(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===ke?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function dt(t,e){return typeof t=="function"?t(...e):!!t}var R,L,D,ce,De=(ce=class extends pe{constructor(){super();d(this,R);d(this,L);d(this,D);u(this,D,e=>{if(!_&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){r(this,L)||this.setEventListener(r(this,D))}onUnsubscribe(){var e;this.hasListeners()||((e=r(this,L))==null||e.call(this),u(this,L,void 0))}setEventListener(e){var n;u(this,D,e),(n=r(this,L))==null||n.call(this),u(this,L,e(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(e){r(this,R)!==e&&(u(this,R,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof r(this,R)=="boolean"?r(this,R):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},R=new WeakMap,L=new WeakMap,D=new WeakMap,ce),Ae=new De;function qe(){let t,e;const n=new Promise((i,o)=>{t=i,e=o});n.status="pending",n.catch(()=>{});function s(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{s({status:"fulfilled",value:i}),t(i)},n.reject=i=>{s({status:"rejected",reason:i}),e(i)},n}var Ke=Ie;function Ge(){let t=[],e=0,n=a=>{a()},s=a=>{a()},i=Ke;const o=a=>{e?t.push(a):i(()=>{n(a)})},m=()=>{const a=t;t=[],a.length&&i(()=>{s(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;e++;try{c=a()}finally{e--,e||m()}return c},batchCalls:a=>(...c)=>{o(()=>{a(...c)})},schedule:o,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{s=a},setScheduler:a=>{i=a}}}var Ne=Ge(),A,j,q,le,Qe=(le=class extends pe{constructor(){super();d(this,A,!0);d(this,j);d(this,q);u(this,q,e=>{if(!_&&window.addEventListener){const n=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",s)}}})}onSubscribe(){r(this,j)||this.setEventListener(r(this,q))}onUnsubscribe(){var e;this.hasListeners()||((e=r(this,j))==null||e.call(this),u(this,j,void 0))}setEventListener(e){var n;u(this,q,e),(n=r(this,j))==null||n.call(this),u(this,j,e(this.setOnline.bind(this)))}setOnline(e){r(this,A)!==e&&(u(this,A,e),this.listeners.forEach(s=>{s(e)}))}isOnline(){return r(this,A)}},A=new WeakMap,j=new WeakMap,q=new WeakMap,le),be=new Qe;function Ue(t){return Math.min(1e3*2**t,3e4)}function ze(t){return(t??"online")==="online"?be.isOnline():!0}var He=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function _e(t){let e=!1,n=0,s;const i=qe(),o=()=>i.status!=="pending",m=l=>{var x;if(!o()){const f=new He(l);v(f),(x=t.onCancel)==null||x.call(t,f)}},a=()=>{e=!0},c=()=>{e=!1},b=()=>Ae.isFocused()&&(t.networkMode==="always"||be.isOnline())&&t.canRun(),p=()=>ze(t.networkMode)&&t.canRun(),w=l=>{o()||(s==null||s(),i.resolve(l))},v=l=>{o()||(s==null||s(),i.reject(l))},g=()=>new Promise(l=>{var x;s=f=>{(o()||b())&&l(f)},(x=t.onPause)==null||x.call(t)}).then(()=>{var l;s=void 0,o()||(l=t.onContinue)==null||l.call(t)}),M=()=>{if(o())return;let l;const x=n===0?t.initialPromise:void 0;try{l=x??t.fn()}catch(f){l=Promise.reject(f)}Promise.resolve(l).then(w).catch(f=>{var G;if(o())return;const T=t.retry??(_?0:3),k=t.retryDelay??Ue,U=typeof k=="function"?k(n,f):k,z=T===!0||typeof T=="number"&&n<T||typeof T=="function"&&T(n,f);if(e||!z){v(f);return}n++,(G=t.onFail)==null||G.call(t,n,f),Me(U).then(()=>b()?void 0:g()).then(()=>{e?v(f):M()})})};return{promise:i,status:()=>i.status,cancel:m,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:c,canStart:p,start:()=>(p()?M():g().then(M),i)}}var F,fe,Be=(fe=class{constructor(){d(this,F)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Re(this.gcTime)&&u(this,F,W.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(_?1/0:300*1e3))}clearGcTimeout(){r(this,F)&&(W.clearTimeout(r(this,F)),u(this,F,void 0))}},F=new WeakMap,fe),Q,$,y,O,S,P,he,yt=(he=class extends Be{constructor(e){super();d(this,S);d(this,Q);d(this,$);d(this,y);d(this,O);u(this,Q,e.client),this.mutationId=e.mutationId,u(this,y,e.mutationCache),u(this,$,[]),this.state=e.state||Ve(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){r(this,$).includes(e)||(r(this,$).push(e),this.clearGcTimeout(),r(this,y).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){u(this,$,r(this,$).filter(n=>n!==e)),this.scheduleGc(),r(this,y).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){r(this,$).length||(this.state.status==="pending"?this.scheduleGc():r(this,y).remove(this))}continue(){var e;return((e=r(this,O))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var m,a,c,b,p,w,v,g,M,l,x,f,T,k,U,z,G,te,ne,se;const n=()=>{E(this,S,P).call(this,{type:"continue"})},s={client:r(this,Q),meta:this.options.meta,mutationKey:this.options.mutationKey};u(this,O,_e({fn:()=>this.options.mutationFn?this.options.mutationFn(e,s):Promise.reject(new Error("No mutationFn found")),onFail:(h,H)=>{E(this,S,P).call(this,{type:"failed",failureCount:h,error:H})},onPause:()=>{E(this,S,P).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>r(this,y).canRun(this)}));const i=this.state.status==="pending",o=!r(this,O).canStart();try{if(i)n();else{E(this,S,P).call(this,{type:"pending",variables:e,isPaused:o}),await((a=(m=r(this,y).config).onMutate)==null?void 0:a.call(m,e,this,s));const H=await((b=(c=this.options).onMutate)==null?void 0:b.call(c,e,s));H!==this.state.context&&E(this,S,P).call(this,{type:"pending",context:H,variables:e,isPaused:o})}const h=await r(this,O).start();return await((w=(p=r(this,y).config).onSuccess)==null?void 0:w.call(p,h,e,this.state.context,this,s)),await((g=(v=this.options).onSuccess)==null?void 0:g.call(v,h,e,this.state.context,s)),await((l=(M=r(this,y).config).onSettled)==null?void 0:l.call(M,h,null,this.state.variables,this.state.context,this,s)),await((f=(x=this.options).onSettled)==null?void 0:f.call(x,h,null,e,this.state.context,s)),E(this,S,P).call(this,{type:"success",data:h}),h}catch(h){try{throw await((k=(T=r(this,y).config).onError)==null?void 0:k.call(T,h,e,this.state.context,this,s)),await((z=(U=this.options).onError)==null?void 0:z.call(U,h,e,this.state.context,s)),await((te=(G=r(this,y).config).onSettled)==null?void 0:te.call(G,void 0,h,this.state.variables,this.state.context,this,s)),await((se=(ne=this.options).onSettled)==null?void 0:se.call(ne,void 0,h,e,this.state.context,s)),h}finally{E(this,S,P).call(this,{type:"error",error:h})}}finally{r(this,y).runNext(this)}}},Q=new WeakMap,$=new WeakMap,y=new WeakMap,O=new WeakMap,S=new WeakSet,P=function(e){const n=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Ne.batch(()=>{r(this,$).forEach(s=>{s.onMutationUpdate(e)}),r(this,y).notify({mutation:this,type:"updated",action:e})})},he);function Ve(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var we=I.createContext(void 0),mt=t=>{const e=I.useContext(we);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},pt=({client:t,children:e})=>(I.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),xe.jsx(we.Provider,{value:t,children:e}));export{Xe as $,dt as A,_e as B,He as C,ze as D,Ve as E,yt as M,pt as Q,Be as R,pe as S,ft as a,lt as b,tt as c,at as d,ht as e,Ae as f,nt as g,Fe as h,J as i,Ye as j,et as k,qe as l,ot as m,Ne as n,be as o,ee as p,it as q,rt as r,ke as s,ut as t,mt as u,_ as v,Re as w,st as x,W as y,ct as z};
